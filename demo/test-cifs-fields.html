<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIFS Fields Test - NetApp ONTAP MCP Demo</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-base">
        <header class="main-header">
            <div class="header-title">
                <a class="main-link" href="#">
                    <svg role="img" aria-labelledby="Netapp-logo" xmlns="http://www.w3.org/2000/svg" width="79" height="14" viewBox="0 0 79 14">
                        <desc id="Netapp-logo">Netapp logo</desc>
                        <path d="M76.266 7.186v-.031c0-1.42-1-2.362-2.182-2.362-1.181 0-2.165.942-2.165 2.362v.031c0 1.421.984 2.364 2.165 2.364 1.182 0 2.182-.927 2.182-2.364zM69.42 2.894h2.533v1.228c.616-.797 1.466-1.387 2.78-1.387 2.083 0 4.064 1.563 4.064 4.42v.031c0 2.857-1.948 4.421-4.063 4.421-1.35 0-2.183-.59-2.781-1.277V14H69.42V2.894zM19.156.198h2.367l5.462 6.957V.198h2.532v11.25h-2.182L21.69 4.345v7.103h-2.533V.198M37.043 6.5c-.15-1.086-.816-1.82-1.88-1.82-1.051 0-1.735.722-1.934 1.82h3.814zm-6.296.719v-.033c0-2.441 1.816-4.451 4.416-4.451 2.98 0 4.345 2.218 4.345 4.644 0 .19-.015.415-.034.638h-6.212c.251 1.1 1.05 1.676 2.183 1.676.85 0 1.465-.255 2.165-.878l1.447 1.228c-.831.99-2.03 1.596-3.645 1.596-2.682 0-4.665-1.803-4.665-4.42zM41.089 9.02V4.969h-1.066V2.894h1.066V.709h2.53v2.185h2.1v2.074h-2.1v3.655c0 .558.251.83.817.83.466 0 .882-.111 1.25-.305v1.948c-.534.304-1.152.495-2.002.495-1.547 0-2.595-.59-2.595-2.57M65.857 7.186v-.031c0-1.42-1-2.362-2.18-2.362-1.182 0-2.165.942-2.165 2.362v.031c0 1.421.983 2.364 2.165 2.364 1.18 0 2.18-.927 2.18-2.364zm-6.843-4.292h2.531v1.228c.616-.797 1.465-1.387 2.782-1.387 2.082 0 4.063 1.563 4.063 4.42v.031c0 2.857-1.948 4.421-4.063 4.421-1.35 0-2.183-.59-2.782-1.277V14h-2.53V2.894zM53.874 6.774l-1.549-3.626-1.55 3.626h3.099zM51.205.197h2.305l4.871 11.251H55.71l-1.073-2.507h-4.623l-1.066 2.507h-2.614L51.206.197zM0 .198v11.25h5.48v-6.75H8.61v6.75h5.48V.198H0"></path>
                    </svg>
                    BlueXP
                </a>
                <div class="demo-tag">
                    <div class="tag-text">Demo - CIFS Fields Test</div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <div class="page-container">
                <h1>Test CIFS Enhanced Fields</h1>
                <p>This test page verifies that the new Users/Groups and Permissions fields appear correctly when CIFS protocol is selected.</p>
                
                <!-- Protocol Section Test -->
                <div class="form-section">
                    <h3>Protocol</h3>
                    <div class="form-group">
                        <label>Access Protocol</label>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="protocol" value="nfs" checked onchange="handleProtocolChange()">
                                NFS
                            </label>
                            <label>
                                <input type="radio" name="protocol" value="cifs" onchange="handleProtocolChange()">
                                CIFS/SMB
                            </label>
                        </div>
                    </div>
                    
                    <div id="nfsOptions" class="protocol-options">
                        <div class="form-group">
                            <label for="exportPolicy">Export Policy</label>
                            <select id="exportPolicy" name="exportPolicy">
                                <option value="">Select export policy...</option>
                                <option value="default">default</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="cifsOptions" class="protocol-options" style="display: none;">
                        <div class="form-group">
                            <label for="shareName">CIFS Share Name</label>
                            <input type="text" id="shareName" name="shareName" placeholder="e.g., myshare">
                        </div>
                        <div class="form-group">
                            <label for="shareComment">Share Comment (Optional)</label>
                            <input type="text" id="shareComment" name="shareComment" placeholder="e.g., Production data share">
                        </div>
                        <div class="form-group">
                            <label for="cifsUsers">Users/Groups</label>
                            <input type="text" id="cifsUsers" name="cifsUsers" value="Everyone" placeholder="e.g., Everyone, DOMAIN\\username">
                        </div>
                        <div class="form-group">
                            <label for="cifsPermissions">Permissions</label>
                            <select id="cifsPermissions" name="cifsPermissions">
                                <option value="full_control" selected>Full Control</option>
                                <option value="change">Change</option>
                                <option value="read">Read</option>
                                <option value="no_access">No Access</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-primary" onclick="testFormData()">Test Form Data</button>
                </div>

                <div id="testOutput" style="margin-top: 20px; padding: 10px; background: #f5f5f5; border-radius: 4px; display: none;">
                    <h4>Form Data Output:</h4>
                    <pre id="outputText"></pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        function handleProtocolChange() {
            const protocol = document.querySelector('input[name="protocol"]:checked').value;
            const nfsOptions = document.getElementById('nfsOptions');
            const cifsOptions = document.getElementById('cifsOptions');
            
            if (protocol === 'nfs') {
                nfsOptions.style.display = 'block';
                cifsOptions.style.display = 'none';
            } else {
                nfsOptions.style.display = 'none';
                cifsOptions.style.display = 'block';
            }
        }

        function testFormData() {
            const protocol = document.querySelector('input[name="protocol"]:checked').value;
            const output = document.getElementById('testOutput');
            const outputText = document.getElementById('outputText');

            let data = {
                protocol: protocol
            };

            if (protocol === 'nfs') {
                data.exportPolicy = document.getElementById('exportPolicy').value;
            } else {
                data.shareName = document.getElementById('shareName').value;
                data.shareComment = document.getElementById('shareComment').value;
                data.cifsUsers = document.getElementById('cifsUsers').value;
                data.cifsPermissions = document.getElementById('cifsPermissions').value;
                
                // Show how this would translate to MCP API call
                data.mcpApiFormat = {
                    cifs_share: {
                        share_name: data.shareName,
                        comment: data.shareComment || undefined,
                        access_control: [
                            {
                                permission: data.cifsPermissions,
                                user_or_group: data.cifsUsers,
                                type: 'windows'
                            }
                        ]
                    }
                };
            }

            outputText.textContent = JSON.stringify(data, null, 2);
            output.style.display = 'block';
        }
    </script>
</body>
</html>