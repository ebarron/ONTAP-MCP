#!/bin/bash

# Tool count verification script for NetApp ONTAP MCP Server

echo "=== NetApp ONTAP MCP Server Tool Count Verification ==="
echo ""

echo "üìä Expected Tools Count: 48"
echo ""
echo "üîç Tool Categories:"
echo "   ‚Ä¢ Inline hardcoded tools: 8"
echo "   ‚Ä¢ Snapshot policy management: 4" 
echo "   ‚Ä¢ Export policy management: 7"
echo "   ‚Ä¢ Legacy volume tools: 5"
echo "   ‚Ä¢ Multi-cluster volume tools: 5"
echo "   ‚Ä¢ Volume configuration tools: 4"
echo "   ‚Ä¢ Volume NFS access tools: 2"
echo "   ‚Ä¢ Legacy CIFS tools: 5"
echo "   ‚Ä¢ Multi-cluster CIFS tools: 3"
echo "   ‚Ä¢ Snapshot schedule tools: 5"
echo ""

echo "üìã Complete Tool List:"
echo ""

echo "Inline Hardcoded Tools (8):"
echo "  1. get_cluster_info"
echo "  2. list_svms"
echo "  3. list_aggregates"
echo "  4. add_cluster"
echo "  5. list_registered_clusters"
echo "  6. get_all_clusters_info"
echo "  7. cluster_list_svms"
echo "  8. cluster_list_aggregates"
echo ""

echo "Snapshot Policy Tools (4):"
echo "  9. list_snapshot_policies"
echo " 10. get_snapshot_policy"
echo " 11. create_snapshot_policy"
echo " 12. delete_snapshot_policy"
echo ""

echo "Export Policy Tools (7):"
echo " 13. list_export_policies"
echo " 14. get_export_policy"
echo " 15. create_export_policy"
echo " 16. delete_export_policy"
echo " 17. add_export_rule"
echo " 18. update_export_rule"
echo " 19. delete_export_rule"
echo ""

echo "Legacy Volume Tools (5):"
echo " 20. list_volumes"
echo " 21. create_volume"
echo " 22. get_volume_stats"
echo " 23. offline_volume"
echo " 24. delete_volume"
echo ""

echo "Multi-cluster Volume Tools (5):"
echo " 25. cluster_list_volumes"
echo " 26. cluster_create_volume"
echo " 27. cluster_offline_volume"
echo " 28. cluster_delete_volume"
echo " 29. cluster_get_volume_stats"
echo ""

echo "Volume Configuration Tools (4):"
echo " 30. get_volume_configuration"
echo " 31. update_volume_security_style"
echo " 32. resize_volume"
echo " 33. update_volume_comment"
echo ""

echo "Volume NFS Access Tools (2):"
echo " 34. configure_volume_nfs_access"
echo " 35. disable_volume_nfs_access"
echo ""

echo "Legacy CIFS Tools (5):"
echo " 36. list_cifs_shares"
echo " 37. get_cifs_share"
echo " 38. create_cifs_share"
echo " 39. update_cifs_share"
echo " 40. delete_cifs_share"
echo ""

echo "Multi-cluster CIFS Tools (3):"
echo " 41. cluster_list_cifs_shares"
echo " 42. cluster_create_cifs_share"
echo " 43. cluster_delete_cifs_share"
echo ""

echo "Snapshot Schedule Tools (5):"
echo " 44. list_snapshot_schedules"
echo " 45. get_snapshot_schedule"
echo " 46. create_snapshot_schedule"
echo " 47. update_snapshot_schedule"
echo " 48. delete_snapshot_schedule"
echo ""
echo "‚úÖ Corrected Tool Count:"
echo "   ‚Ä¢ Updated from incorrect 46 to actual 48 tools"
echo "   ‚Ä¢ Added missing snapshot schedule management tools (5)"
echo "   ‚Ä¢ Corrected snapshot policy tool count (4, not 7)"
echo "   ‚Ä¢ Properly categorized volume NFS access tools (2)"
echo "   ‚Ä¢ Accurate CIFS tool counts (5 legacy + 3 multi-cluster)"
echo "   ‚Ä¢ All tool names match actual MCP server registrations"
echo ""

echo "üéØ Result: VS Code should now show all 48 tools in the MCP tools dropdown"
echo ""

echo "üìù To verify:"
echo "   1. Restart VS Code"
echo "   2. Go to MCP tools dropdown for 'netapp-ontap-mcp'"
echo "   3. Check that 48 tools are listed (not 46)"
echo "   4. Verify tools from all 10 categories are present"